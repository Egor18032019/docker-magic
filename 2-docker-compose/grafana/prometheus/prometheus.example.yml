# global config
global:
  scrape_interval:     10s # Set the scrape interval to every 10 seconds. Default is every 1 minute.
  evaluation_interval: 10s # Evaluate rules every 10 seconds. The default is every 1 minute.

# A scrape configuration
scrape_configs:
  # Scrape Prometheus itself (Dashboard #3662)
  - job_name: 'prometheus'
    scrape_interval: 10s
    static_configs:
      - targets:
          - 'localhost:9090'

  # Scrape the Node Exporter (nix) - https://github.com/prometheus/node_exporter
  # Grafana Dashboards: 11074, 1860
  - job_name: 'node'
    scrape_interval: 10s
    static_configs:
      - targets:
          - 'node_exporter:9100'
          #- '172.17.0.1:9100'  ## Docker Host-OS
          #- '144.76.172.181:9100'   # sb40-master
          #- '144.76.157.174:9100'   # sb40-worker
          #- '192.168.110.15:9100'   # des-pc (au_dev)
          #- '192.168.110.24:9100'   # devops-rasla

  # Scrape the WMI Exporter - https://github.com/martinlindhe/wmi_exporter
  # Grafana Dashboards: 2129
  - job_name: 'node-windows'
    scrape_interval: 10s
    static_configs:
      - targets:
          # Windows host-metrics, by
          - '192.168.110.19:9182'   # stas-pc

  # Scrape the cAdvisor
  # Grafana Dashboards: 8321
  - job_name: docker
    scrape_interval: 10s
    static_configs:
      - targets:
          - 'cadvisor:8080'
          #- '144.76.157.174:8080'   # sb40-worker

  # Scrape the Blackbox Exporter (Dashboard #7587)
#  - job_name: 'blackbox'
#    scrape_interval: 10s
#    metrics_path: /probe
#    file_sd_configs:
#      - files:
#          - '/etc/prometheus/blackbox/*.yml'
#    relabel_configs:
#      - source_labels: [__address__]
#        target_label: __param_target
#      - source_labels: [module]
#        target_label: __param_module
#      - source_labels: [__param_target]
#        target_label: instance
#      - target_label: __address__
#        replacement: blackbox-exporter:9115

  # Scrape the RabbitMQ Exporter (Dashboard #4279)
#  - job_name: rabbitmq_exporter
#    scrape_interval: 10s
#    static_configs:
#      - targets:
#          - '192.168.110.15:32122'  # des-pc
#          - '192.168.110.23:32122'  # 23-beta
#          #- '144.76.172.181:32122'  # sb40-master

  # Scrape the Redis Exporter (Dashboard #763)
#  - job_name: redis_exporter
#    scrape_interval: 10s
#    static_configs:
#      - targets:
#          #- 'localhost:9121'
#          - '192.168.110.15:32121'  # des-pc
#          - '192.168.110.23:32121'  # 23-beta
#          #- '144.76.172.181:32121'  # sb40-master

  # Scrape the Postgres Exporter (Dashboard #6742)
#  - job_name: postgres_exporter
#    scrape_interval: 10s
#    static_configs:
#      - targets:
#          #- 'localhost:9121'
#          - '144.76.172.181:32123'  # sb40-master
